<form [formGroup]="form" (submit)="onSubmit()">

<div class="modal-header">
    <h4 class="modal-title pull-left">Contact</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="modal-body">

    <div class="form-group">
        <label for="f-name">Name</label>
        <input formControlName="name" type="text" class="form-control" [class.is-invalid]="isControlInvalid('name')"
            id="f-name">
        <div class="invalid-feedback" *ngIf="isControlInvalid('name')">
            <div *ngIf="form.controls.name.errors.required">The name is required</div>
        </div>
    </div>

    <div class="form-group">
        <label for="f-email">Email</label>
        <input formControlName="email" type="text" class="form-control"
            [class.is-invalid]="isControlInvalid('email')" id="f-email">
        <div class="invalid-feedback" *ngIf="isControlInvalid('email')">
            <div *ngIf="form.controls.email.errors.required">The email is required</div>
            <div *ngIf="form.controls.email.errors.email">The email is incorrect</div>
        </div>
    </div>

    <div class="form-group clearfix">
        <label for="f-telephone">Telephone</label>
        <input formControlName="telephone" type="text" class="form-control"
            [class.is-invalid]="isControlInvalid('telephone')" id="f-telephone">
        <div class="invalid-feedback" *ngIf="isControlInvalid('telephone')">
            <div *ngIf="form.controls.telephone.errors.required">The phone is required</div>
            <div *ngIf="form.controls.telephone.errors.pattern">The phone is incorrect</div>
            <div *ngIf="form.controls.telephone.errors.contact_exists">You have already contact registered with this phone number</div>
        </div>
    </div>

    <div class="form-group">
        <app-input-file (upload)="onUpload($event)"></app-input-file>
    </div>
    
</div>

<div class="modal-footer">    
    <button type="submit" class="btn btn-primary" style="width:120px" [disabled]="isWorking || form.invalid">
        <span class="d-block clearfix">
            Create
            <i class="spinner-border float-right" *ngIf="isWorking"></i>
        </span>
    </button>
    <button type="button" class="btn btn-danger" style="width:120px" (click)="bsModalRef.hide()">
        Cancel
    </button>
</div>

</form>